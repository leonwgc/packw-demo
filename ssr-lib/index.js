(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{indexRender:()=>O});const r=require("react");var n=e.n(r);const l=require("react-dom/server");var a=e.n(l);const o=require("react-uni-comps"),c=require("simple-redux-store"),u=require("@babel/runtime/helpers/slicedToArray");var i=e.n(u);const d=require("@babel/runtime/helpers/defineProperty");var p=e.n(d);const s=require("react-router-dom"),m=function(e){var t=e.dispatch,r=e.state,l=(0,s.useHistory)();return n().createElement("div",null,n().createElement("div",{style:{background:"#005cff",color:"#fff",padding:"30px 12px"},onClick:function(){return l.push("/page2")}},"go to page2"),n().createElement(o.Divider,null),n().createElement(o.Button,{as:"div",block:!0,style:{color:"#005cff",fontSize:20}},"this is page1"),n().createElement("div",null,n().createElement("div",null,"name from useReducer:",n().createElement("b",null,r.name)),n().createElement(o.Divider,null),n().createElement("div",null,"age from useReducer:",n().createElement("b",null,r.age)),n().createElement(o.Divider,null),n().createElement("div",null,n().createElement(o.Input,{placeholder:"input your name",value:r.name,onChange:function(e){t({type:"update",payload:{name:e}})}}))))},f=[{path:"/",exact:!0,component:m},{path:"/page1",component:m},{path:"/page2",component:function(e){var t=e.dispatch,r=e.state,l=(0,s.useHistory)();return n().createElement("div",null,n().createElement("div",{style:{padding:"30px 12px",border:"1px solid #005cff",textAlign:"center",fontSize:24},onClick:function(){return l.push("/page1")}},"go to page1"),n().createElement(o.Divider,null),n().createElement(o.Button,{as:"div",block:!0,outlined:!0},"this is page2"),n().createElement("div",null,n().createElement("div",null,"name from useReducer:",n().createElement("b",null,r.name)),n().createElement(o.Divider,null),n().createElement("div",null,"age from useReducer:",n().createElement("b",null,r.age)),n().createElement(o.Divider,null),n().createElement(o.InputNumber,{placeholder:"input your age",value:r.age,onChange:function(e){t({type:"update",payload:{age:e}})}})))}}];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={name:"",age:void 0},E=function(e){return y(y({},g),e)},b=function(e,t){switch(t.type){case"update":return y(y({},e),t.payload);case"reset":return y(y({},g),t.payload)}};const h=function(e){var t=e.location,l=e.context,a=(0,r.useReducer)(b,g,E),u=i()(a,2),d=u[0],p=u[1],m=(0,c.useAppData)(),v="undefined"==typeof window?s.StaticRouter:s.BrowserRouter;return n().createElement("div",null,n().createElement(o.ThemeProvider,{color:"#005cff"},n().createElement(v,{location:t,context:l},n().createElement(s.Switch,null,f.map((function(e,t){return n().createElement(s.Route,{key:t,path:e.path,exact:e.exact,render:function(){return n().createElement(e.component,{dispatch:p,state:d})}})})),n().createElement(s.Route,{render:function(){return n().createElement("div",null,"page not found")}}))),n().createElement("div",{style:{color:"red",fontSize:30}},m.env," env")))};var O=function(e,t){var r=new o.ServerStyleSheet,l=(0,c.configureStore)({env:"server"});try{return{html:a().renderToString(r.collectStyles(n().createElement(c.Provider,{store:l},n().createElement(h,{location:e,context:t})))),styleTags:r.getStyleTags()}}catch(e){console.log(e)}finally{r.seal()}return{html,style}};module.exports=t})();